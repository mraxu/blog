




类的加载、连接、与初始化

- 加载：查找并加载类的二进制数据
- 连接
  + 验证：确保被加载的类的正确性。
  + 准备：为类的静态变量分配内存，并将其初始化为默认值(默认值是指类型的默认值，如int为0，boolean为false等)
  + 解析：把类中的符号引用转换为直接引用
- 初始化：为类的静态变量赋予正确的初始值（用户赋予变量的值）

截至初始化完成都还没有对象生成。

例：

```java
public class Test {
  //加载的过程先是上面说的第二步，"连接准备"，将默认值0赋给a，然后是第三步"初始化"，将用户给的3赋给a
  private static int a = 3;
}
```
[流程图](java_classloader_2016_06_20_235036.jpg)

Java程序对类的使用方式可分为两种
- 主动使用
- 被动使用

所有的Java虚拟机实现必须在每个类或接口被Java程序“首次主动使用”时才初始化它们

主动使用
- 创建类的实例
- 访问某个类或接口的静态变量，或者对该静态变量赋值
- 调用类的静态方法
- 反射(如：Class.forName("com.lingfeng.Test"))
- 初始化一个类的子类
- Java虚拟机启动时被标明为启动类的类(Java Test，Test类中还定义这其它的类)

除了上述六种情况外其它全是被动使用。
